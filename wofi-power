#!/usr/bin/env bash

choice=$(printf "Shutdown\nReboot\nSleep (Screen Off)" | wofi --dmenu --prompt "Power")

case "$choice" in
  Shutdown)
    systemctl poweroff
    ;;
  Reboot)
    systemctl reboot
    ;;
  "Sleep (Screen Off)")
    # Turn off displays without suspending
    if command -v hyprctl >/dev/null 2>&1; then
        hyprctl dispatch dpms off
    elif command -v swaymsg >/dev/null 2>&1; then
        swaymsg "output * dpms off"
    else
        # Fallback (works on many setups)
        loginctl lock-session
    fi
    ;;
esac
